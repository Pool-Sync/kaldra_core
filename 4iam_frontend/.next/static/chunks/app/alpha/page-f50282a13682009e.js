(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[616],{1618:function(e,s,t){Promise.resolve().then(t.bind(t,3810))},3810:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return r}});var a=t(7437),l=t(8474),n=t(7097),i=t(897);function r(){let{text:e,setText:s,data:t,isLoading:r,error:c,run:d}=(0,l.L)();return(0,a.jsxs)("main",{className:"flex flex-col gap-6 p-6",children:[(0,a.jsxs)("header",{className:"space-y-1",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold text-slate-50",children:"KALDRA-ALPHA â€” Earnings Signals"}),(0,a.jsx)("p",{className:"text-sm text-slate-400",children:"Envie um trecho de earnings call e veja o sinal KALDRA em tempo real."})]}),(0,a.jsxs)("section",{className:"grid gap-4 md:grid-cols-[minmax(0,2fr)_minmax(0,3fr)]",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("label",{className:"text-xs font-medium text-slate-300",children:"Earnings call transcript"}),(0,a.jsx)("textarea",{className:"h-40 w-full rounded-xl border border-slate-800 bg-slate-950/80 p-3 text-sm text-slate-100 outline-none focus:border-sky-500 focus:ring-1 focus:ring-sky-500",value:e,onChange:e=>s(e.target.value),placeholder:"Exemplo de earnings call para o KALDRA-ALPHA."}),(0,a.jsx)("button",{type:"button",onClick:()=>d(),disabled:r,className:"inline-flex items-center justify-center rounded-lg bg-sky-600 px-4 py-2 text-sm font-medium text-white hover:bg-sky-500 disabled:opacity-60",children:r?"Analyzing...":"Generate KALDRA Signal"}),c&&(0,a.jsx)("p",{className:"text-xs text-red-400 mt-1",children:c})]}),(0,a.jsx)("div",{className:"space-y-4",children:t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.u,{signal:t}),(0,a.jsx)(i.B,{signal:t})]}):(0,a.jsx)("div",{className:"rounded-xl border border-dashed border-slate-700 bg-slate-950/60 p-4 text-sm text-slate-400",children:"Nenhum sinal gerado ainda. Envie um texto para ver o KALDRA Signal."})})]})]})}},928:function(e,s,t){"use strict";t.d(s,{Hz:function(){return a}});let a={baseUrl:"http://localhost:8000",timeout:15e3,timeoutMs:15e3,useMocks:!1,retry:{maxAttempts:3,delay:1e3}}},8474:function(e,s,t){"use strict";t.d(s,{L:function(){return r}});var a=t(2265),l=t(928);async function n(e){if(!e.ok){let s=await e.text().catch(()=>"");throw Error("KALDRA API error ".concat(e.status,": ").concat(s))}return await e.json()}async function i(e){let s="".concat(l.Hz.baseUrl,"/engine/kaldra/signal");return n(await fetch(s,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)}))}function r(){let[e,s]=(0,a.useState)(""),[t,l]=(0,a.useState)(null),[n,r]=(0,a.useState)(!1),[c,d]=(0,a.useState)(null);async function o(s){let t=null!=s?s:e;if(t.trim()){r(!0),d(null);try{let e=await i({text:t});l(e)}catch(e){var a;d(null!==(a=e.message)&&void 0!==a?a:"Unknown error")}finally{r(!1)}}}return{text:e,setText:s,data:t,isLoading:n,error:c,run:o}}},7097:function(e,s,t){"use strict";t.d(s,{u:function(){return l}});var a=t(7437);function l(e){let{signal:s}=e,t="UNSTABLE"===s.tw_regime?"bg-red-500":"CRITICAL"===s.tw_regime?"bg-amber-500":"bg-emerald-500",l=Math.round(100*s.bias_score),n=Math.round(100*s.confidence);return(0,a.jsxs)("div",{className:"rounded-xl border border-slate-800 bg-slate-900/60 p-4 shadow-md space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"KALDRA Signal"}),(0,a.jsx)("div",{className:"text-lg font-semibold text-slate-50",children:s.archetype||"Archetype: n/d"}),(0,a.jsxs)("div",{className:"text-xs text-slate-400",children:["Delta state:"," ",(0,a.jsx)("span",{className:"font-mono text-slate-200",children:s.delta_state})]})]}),(0,a.jsxs)("div",{className:"flex flex-col items-end gap-1",children:[(0,a.jsx)("div",{className:"text-xs uppercase text-slate-400",children:"TW Regime"}),(0,a.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-full bg-slate-800 px-3 py-1",children:[(0,a.jsx)("span",{className:"h-2 w-2 rounded-full ".concat(t)}),(0,a.jsx)("span",{className:"text-xs font-semibold text-slate-50",children:s.tw_regime})]}),s.bias_label&&(0,a.jsxs)("div",{className:"text-[10px] uppercase tracking-wide text-slate-400",children:["Bias: ",s.bias_label]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-xs text-slate-300",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Bias score"}),(0,a.jsxs)("span",{className:"font-mono",children:[l,"%"]})]}),(0,a.jsx)("div",{className:"h-1.5 w-full rounded-full bg-slate-800",children:(0,a.jsx)("div",{className:"h-1.5 rounded-full bg-fuchsia-500",style:{width:"".concat(l,"%")}})})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Confidence"}),(0,a.jsxs)("span",{className:"font-mono",children:[n,"%"]})]}),(0,a.jsx)("div",{className:"h-1.5 w-full rounded-full bg-slate-800",children:(0,a.jsx)("div",{className:"h-1.5 rounded-full bg-sky-500",style:{width:"".concat(n,"%")}})})]})]}),s.narrative_risk&&(0,a.jsxs)("div",{className:"text-[11px] text-slate-400",children:["Narrative risk:"," ",(0,a.jsx)("span",{className:"font-semibold text-slate-100",children:s.narrative_risk})]}),(0,a.jsx)("p",{className:"text-xs text-slate-400 leading-relaxed",children:s.explanation})]})}},897:function(e,s,t){"use strict";t.d(s,{B:function(){return l}});var a=t(7437);function l(e){let{signal:s,maxBars:t=6}=e,l=[...Object.entries(s.kindra_distribution||{})].sort((e,s)=>s[1]-e[1]).slice(0,t);if(!l.length)return(0,a.jsx)("div",{className:"rounded-xl border border-slate-800 bg-slate-900/40 p-3 text-xs text-slate-400",children:"No Kindra distribution available."});let n=Math.max(...l.map(e=>{let[,s]=e;return s}));return(0,a.jsxs)("div",{className:"rounded-xl border border-slate-800 bg-slate-900/40 p-3 space-y-2",children:[(0,a.jsxs)("div",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:["Kindra distribution (top ",l.length,")"]}),(0,a.jsx)("div",{className:"space-y-1.5",children:l.map(e=>{let[s,t]=e;return(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsxs)("div",{className:"flex justify-between text-[11px] text-slate-300",children:[(0,a.jsx)("span",{className:"font-mono",children:s}),(0,a.jsxs)("span",{className:"font-mono",children:[Math.round(100*t),"%"]})]}),(0,a.jsx)("div",{className:"h-1.5 w-full rounded-full bg-slate-800",children:(0,a.jsx)("div",{className:"h-1.5 rounded-full bg-emerald-500",style:{width:"".concat(t/n*100,"%")}})})]},s)})})]})}}},function(e){e.O(0,[971,23,744],function(){return e(e.s=1618)}),_N_E=e.O()}]);