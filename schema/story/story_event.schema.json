{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "StoryEvent",
    "description": "Single event in KALDRA narrative timeline (v2.6)",
    "type": "object",
    "required": [
        "event_id",
        "timestamp",
        "sequence_id",
        "text"
    ],
    "properties": {
        "event_id": {
            "type": "string",
            "description": "Unique event identifier (UUID)"
        },
        "timestamp": {
            "type": "number",
            "description": "Unix timestamp (seconds since epoch)"
        },
        "sequence_id": {
            "type": "integer",
            "description": "Sequential event number in buffer",
            "minimum": 0
        },
        "text": {
            "type": "string",
            "description": "Input text for this event"
        },
        "delta12": {
            "type": "object",
            "description": "Delta12Vector as dictionary (archetype_id -> probability)",
            "additionalProperties": {
                "type": "number",
                "minimum": 0,
                "maximum": 1
            }
        },
        "delta144_state": {
            "type": "string",
            "description": "Current Δ144 state identifier"
        },
        "kindra": {
            "type": "object",
            "description": "Kindra scores (3×48 cultural vectors)"
        },
        "meta_scores": {
            "type": "object",
            "description": "Meta-engine scores from v2.5",
            "properties": {
                "nietzsche": {
                    "type": "object",
                    "description": "Nietzsche 12-axis scores"
                },
                "aurelius": {
                    "type": "object",
                    "description": "Aurelius 12-axis scores"
                },
                "campbell": {
                    "type": "object",
                    "description": "Campbell Hero's Journey stage"
                }
            }
        },
        "drift_state": {
            "type": "object",
            "description": "DriftState from TW369"
        },
        "tw_state": {
            "type": "object",
            "description": "TWState from TW369"
        },
        "metadata": {
            "type": "object",
            "description": "Optional metadata",
            "additionalProperties": true
        }
    }
}